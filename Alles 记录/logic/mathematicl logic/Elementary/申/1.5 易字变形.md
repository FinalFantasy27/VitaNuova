
1.5. 易字变形

直观上，公式的“易字变形”是把公式中的“约束变元”替换为其他变元得到的公式。为了给出“易字变形”的严格定义，我们不需要事先定义“约束变元”。事实上，我们自始至终都不会用到“出现”、“约束出现”、“约束变元”的严格定义；有“自由出现”的严格定义就足够了。我们秉承“奥卡姆剃刀”原则，在保证“严格性”的前提下，尽力把所需的语法概念压缩到最少（上一节中我们对“代入”的处理方式使得我们不需要定义“可自由代入”、“规范易字变形”，也体现了这一原则）。

然而，为了定义“易字变形”，按照公式的长度递归定义是不行的（原因稍后说明）。我们需要首先定义“φ 中出现的蕴含符号和全称量词符号的数目”（记作 ρ(φ) ）。我们按照公式 φ 的长度递归定义如下：

（i） $\rho({\in}xy)=0$ ；
（ii） $\rho(\bot)=0$ ；
（iii） $\rho({\rightarrow}\psi\theta)=\rho(\psi)+\rho(\theta)+1$ ；
（iv） $\rho(\forall x\psi)=\rho(\psi)+1$ 。


1.5.1. 引理：

设 $x_{1}, \ldots, x_{n}$ 是两两不同的变元。

$\rho((x_{1}/a_{1}, \ldots, x_{n}/a_{n})\varphi)=\rho(\varphi)$ 。

证明：对 φ 的长度归纳。

使用这个引理，我们按照 ρ(φ) 递归定义“ψ 是 φ 的易字变形”如下：

（i）$\psi$ 是 ${\in}xy$ 的易字变形当且仅当 $\psi={\in}xy$ ；
（ii）$\psi$ 是 $\bot$ 的易字变形当且仅当 $\psi=\bot$ ；
（iii）$\psi$ 是 ${\rightarrow}\varphi_0\varphi_1$ 的易字变形当且仅当 $\psi={\rightarrow}\psi_0\psi_1$，$\psi_0$ 是 $\varphi_0$ 的易字变形……；
（iv）$\psi$ 是 $\forall x\varphi_0$ 的易字变形当且仅当 $\psi=\forall y\psi_0$，并且 $(y/z)\psi_0$ 是 $(x/z)\varphi_0$ 的易字变形，其中 $z$ 是不在 $\varphi_0$ 和 $\psi_0$ 中自由出现的第一个变元。

关于这个定义，我们说明以下两点：第一，之所以不能按照公式 φ 的长度递归定义，是因为在（iv）中，$(x/z)\varphi_0$ 的长度未必比 $\forall x\varphi_0$ 短（注意，我们的变元不是一个“单独的”符号，而是一个符号串；如果 $z$ 很长，那么 $\varphi_0$ 的长度可能远大于 $\forall x\varphi_0$ ）。而如果按照 ρ(φ) 递归定义，就不存在这个问题：根据引理1.5.1，$\rho((x/z)\varphi_0)=\rho(\varphi_0)<\rho(\forall x\varphi_0)$ 。

第二，Bell and Machover 著 A Course in Mathematical Logic 中“易字变形”的递归定义中的量词步骤是错误的（见 62 页定义3.7）；那里定义的“易字变形”是没有“传递性”的（虽然作者声称它具有传递性）。反例的构造留给读者。因为这里的“代入”定义和 Bell and Machover 的定义不同，我们这里的“易字变形”定义不能作为对他们的错误定义的直接修正；对于他们错误定义的一个修正，见徐明老师的博文：《符号逻辑讲义》勘误中第358页的修正。（徐老师的书在习题中使用了 Bell and Machover 的定义（见 358 页习题9.20）。）

1.5.2. 引理：如果 $\psi$ 是 $\varphi$ 的易字变形，那么 $\rho(\varphi)=\rho(\psi)$ 。证明：对 ρ(φ) 归纳，用到引理1.5.1.

1.5.3. 引理：设 $\psi$ 是 $\varphi$ 的易字变形。对所有的变元 $x$ ，$x$ 在 $\varphi$ 中自由出现当且仅当 $x$ 在 $\psi$ 中自由出现。
证明：对 ρ(φ) 归纳，用到引理1.4.2.

1.5.4. 引理：
（i）$\varphi$ 是 $\varphi$ 的易字变形；
（ii）$\psi$ 是 $\varphi$ 的易字变形当且仅当 $\varphi$ 是 $\psi$ 的易字变形。

证明：对 ρ(φ) 归纳。

1.5.5. 引理：
（i）如果 $\psi$ 是 $\varphi$ 的易字变形，并且 $\theta$ 是 $\psi$ 的易字变形，那么 $\theta$ 是 $\varphi$ 的易字变形。
（ii）设 $x_{1}, \ldots, x_{n}$ 是两两不同的变元。如果 $\psi$ 是 $\varphi$ 的易字变形，那么 $(x_{1}/a_{1}, \ldots, x_{n}/a_{n})\psi$ 是 $(x_{1}/a_{1}, \ldots, x_{n}/a_{n})\varphi$ 的易字变形。
（iii）设……是两两不同的变元，$y_{1}, \ldots, y_{m}$ 是两两不同的变元，并且 $z_{1}, \ldots, z_{k}$ 也是两两不同的变元。如果对所有在 $\varphi$ 中自由出现的变元 $w$ ，$(z_{1}/c_{1}, \ldots, z_{k}/c_{k})w=(y_{1}/b_{1}, \ldots, y_{m}/b_{m})(x_{1}/a_{1}, \ldots, x_{n}/a_{n})w$ ，那么 $(z_{1}/c_{1}, \ldots, z_{k}/c_{k})\varphi$ 是 $(y_{1}/b_{1}, \ldots, y_{m}/b_{m})(x_{1}/a_{1}, \ldots, x_{n}/a_{n})\varphi$ 的易字变形。
引理1.5.5 的证明是 straightforward 的，但是极为繁琐：需要对 ρ(φ) 归纳同时证明（i）（ii）和（iii）。我们将在下一篇文章中给出这个引理的完整证明，作为“归纳同时证明”的第一个例子，它也将是该系列文章中的第一个完整的证明。

作者：超滤空间
链接：https://zhuanlan.zhihu.com/p/34219792
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。